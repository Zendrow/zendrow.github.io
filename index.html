<!DOCTYPE html>
<html>

<head>
    <script>
        function onButtonClick() {
            console.log('Requesting Bluetooth Device...');
           navigator.bluetooth.requestDevice({
            acceptAllDevices: true,
            optionalServices: ['battery_service']
            })
                .then(device => {
                    console.log('Connecting to GATT Server...');
                    return device.gatt.connect();
                })
                // .then(server => {
                //     log('Getting Battery Service...');
                //     return server.getPrimaryService('battery_service');
                // })
                // .then(service => {
                //     log('Getting Battery Level Characteristic...');
                //     return service.getCharacteristic('battery_level');
                // })
                // .then(characteristic => {
                //     log('Reading Battery Level...');
                //     return characteristic.readValue();
                // })
                // .then(value => {
                //     let batteryLevel = value.getUint8(0);
                //     log('> Battery Level is ' + batteryLevel + '%');
                // })
                .catch(error => {
                    console.log('Argh! ' + error);
                });

        }

    </script>
    
</head>

<body>
    <div>
        <button class="btn" id="pointerup" onclick="onButtonClick()">Try it</button>
    </div>
</body>

</html>
