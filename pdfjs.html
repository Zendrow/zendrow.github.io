<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="manifest" href="images/manifest.json" />
    <link rel="icon" href="images/PokeBall.png" />

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>

    <style type="text/css">
        .row {
            margin: 0 auto;
            width: 100%;
        }

        a {
            width: 100%;
            margin: 10px 0;
        }

        html,
        body {
            height: 100%;
        }
    </style>

</head>

<body>
    <script type="text/javascript" src="https://mozilla.github.io/pdf.js/build/pdf.js"></script>
    <script type="text/javascript">
        var url = "https://cdn.mozilla.net/pdfjs/helloworld.pdf";
        var pages = [], heights = [], width = 0, height = 0, currentPage = 1;
        var scale = 1.5;
        function draw() {
            var canvas = document.createElement('canvas'), ctx = canvas.getContext('2d');
            canvas.width = width;
            canvas.height = height;
            for (var i = 0; i < pages.length; i++)
                ctx.putImageData(pages[i], 0, heights[i]);
            document.body.appendChild(canvas);
        }
        pdfjsLib.disableWorker = true; // due to CORS
        pdfjsLib.getDocument(url).then(function (pdf) {
            getPage();
            function getPage() {
                pdf.getPage(currentPage).then(function (page) {
                    console.log("Printing " + currentPage);
                    var viewport = page.getViewport(scale);
                    var canvas = document.createElement('canvas'), ctx = canvas.getContext('2d');
                    var renderContext = { canvasContext: ctx, viewport: viewport };
                    canvas.height = viewport.height;
                    canvas.width = viewport.width;
                    page.render(renderContext).then(function () {
                        pages.push(ctx.getImageData(0, 0, canvas.width, canvas.height));
                        heights.push(height);
                        height += canvas.height;
                        if (width < canvas.width) width = canvas.width;
                        if (currentPage < pdf.numPages) {
                            currentPage++;
                            getPage();
                        }
                        else {
                            draw();
                        }
                    });
                });
            }
        });
    </script>
</body>

</html>